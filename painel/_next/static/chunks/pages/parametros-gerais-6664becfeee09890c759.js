_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[31],{DbXy:function(e,t,n){e.exports={invisible:"styles_invisible__2eb-b",visible:"styles_visible__2b1oV",totais:"styles_totais__1vmZn",produtoInput:"styles_produtoInput__27fS-",clienteInput:"styles_clienteInput__2WKkT",searchResult:"styles_searchResult__26Gln"}},EDS1:function(e,t,n){e.exports={wrapper:"styles_wrapper__3td6h",formParm:"styles_formParm__3ZCy6",formDiv:"styles_formDiv__2zR71",paramSession:"styles_paramSession__dRmgE",inputForm:"styles_inputForm__2iPK9",numeroOs:"styles_numeroOs__1td34",inputWide:"styles_inputWide__3appR",resultsDiv:"styles_resultsDiv__1t8Xo",visible:"styles_visible__1g-fD",invisible:"styles_invisible__2qCfu",fornecedores:"styles_fornecedores__PUnE9",searchResults:"styles_searchResults__2XL8m",loading:"styles_loading__X4dgq",hidden:"styles_hidden__257nJ"}},Ry4D:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("nKUr"),s=n("r9w1"),a=n("q1tI"),c=n.n(a),o=n("ddHN"),i=n("DbXy"),l=n.n(i),u=c.a.forwardRef((function(e,t){var n=e.disabled,c=e.admConv,i=void 0!==c&&c,u=e.handleIsSelected,d=Object(a.useState)(),b=d[0],p=d[1],j=Object(a.useState)(),f=j[0],O=j[1],m=Object(a.useState)(),v=m[0],_=m[1],h=Object(a.useState)(!1),y=h[0],x=h[1],S=Object(a.useRef)(null),g=Object(o.b)().getApi;Object(a.useImperativeHandle)(t,(function(){return{getMyState:function(){return v}}}),[v]),Object(a.useEffect)((function(){window.addEventListener("mousedown",N)}),[]);var N=function(e){var t;S&&"NOMECLIENTE"===e.target.name?x(!0):!S||null!==(t=S.current)&&void 0!==t&&t.contains(e.target)||x(!1)};return Object(r.jsxs)("div",{className:l.a.clienteInput,children:[Object(r.jsx)(s.a,{label:i?"Administradora de Cart\xe3o":"Cliente",name:"NOMECLIENTE",autoComplete:"off",variant:"outlined",disabled:n||!1,value:b,color:"primary",onChange:function(e){return function(e){if(x(!0),p(e.target.value),e.target.value.length>0){var t=i?"/adm-conv":"/clientes";g.then((function(n){n.post(t,{search:e.target.value}).then((function(e){O(i?e.data.administradoras:e.data.parsedClientes)}))}))}else x(!1),O([])}(e)}}),f&&Object(r.jsx)("div",{ref:S,className:"".concat(l.a.searchResult," ").concat(y?l.a.visible:l.a.invisible),children:f.map((function(e){return Object(r.jsx)("span",{onClick:function(){p(e.CODCLIENTE+" - "+e.NOME),_(e),x(!1),i&&u&&u()},children:e.CODCLIENTE+" - "+e.NOME},e.CODCLIENTE)}))})]})}))},"UN6+":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("nKUr"),s=n("33Fu"),a=n("YhpK"),c=n.n(a);function o(){return Object(r.jsxs)("div",{className:c.a.wrapper,children:[Object(r.jsx)(s.c,{size:50,color:"#b23237"}),Object(r.jsx)("h1",{children:"Acesso Bloqueado"})]})}},YhpK:function(e,t,n){e.exports={wrapper:"style_wrapper__22fyg"}},wqa0:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/parametros-gerais",function(){return n("wvbT")}])},wvbT:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return w}));var r=n("nKUr"),s=n("cpVT"),a=n("vJKn"),c=n.n(a),o=n("rg98"),i=n("csfp"),l=n("r9w1"),u=n("q1tI"),d=n("Tgqd"),b=n("FGyW"),p=(n("jDDT"),n("Ry4D")),j=n("bFzY"),f=n("UN6+"),O=n("tRs7"),m=n("EDS1"),v=n.n(m),_=n("ddHN"),h=n("33Fu"),y=n("r9V7"),x=n.n(y);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N,E=new O.a;function w(){var e=Object(u.useState)(),t=e[0],n=e[1],s=Object(u.useState)({ALIQICMS:0}),a=s[0],O=s[1],m=Object(u.useState)(!1),y=m[0],S=m[1],w=Object(u.useState)(!1),C=w[0],I=w[1],P=Object(u.useState)(!1),L=P[0],D=P[1],T=Object(u.useState)(!1),k=T[0],A=T[1],F=Object(u.useState)(!1),R=F[0],z=F[1],M=Object(u.useState)(0),q=M[0],K=M[1],U=Object(j.c)().user,X=Object(_.b)().getApi,G=Object(u.useRef)(null),J="SOMENTE_CONSULTA"!==(null===U||void 0===U?void 0:U.permissions.parametrosGerais);Object(u.useEffect)((function(){X.then((function(e){(N=e).get("/parametros/nfse").then((function(e){n(e.data.paramsNFSe[0])}))}))}),[]);var W=function(){var e=Object(o.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={loteNFSE:t.LOTENFSE,loteRPS:t.LOTERPS},e.next=3,N.post("/parametros/nfse",n);case 3:"ok"===e.sent.data.status?E.notify("Altera\xe7\xe3o enviada ao sistema","success"):E.notify("Algo deu errado","error"),I(!1),D(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,N.post("/parametros/atualiza-aliq",a);case 3:"ok"===e.sent.data.status?E.notify("Al\xedquota alterada com sucesso","success"):E.notify("Algo deu errado","error"),S(!1),A(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(o.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q&&!(q<=0)&&null!==(t=G.current)&&void 0!==t&&t.getMyState()){e.next=3;break}return E.notify("Preencha corretamente o n\xfamero da O.S. e o novo cliente","warning"),e.abrupt("return");case 3:return e.prev=3,e.next=6,N.post("/parametros/atualiza-cliente-os",{os:q,cliente:null===(n=G.current)||void 0===n?void 0:n.getMyState().CODCLIENTE});case 6:"ok"===e.sent.data.status?E.notify("Cliente alterado com sucesso","success"):E.notify("Algo deu errado","error"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),E.notify(e.t0.response.data.message,"error");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:y?v.a.loading:v.a.hidden,children:Object(r.jsx)(x.a,{type:"Bars",color:"#B23237",height:80,width:80})}),Object(r.jsx)("div",{className:v.a.wrapper,children:"SEM_ACESSO"!==(null===U||void 0===U?void 0:U.permissions.parametrosGerais)?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"Par\xe2metros Gerais"}),Object(r.jsxs)("div",{className:v.a.paramSession,children:[Object(r.jsx)("h2",{children:"Fiscal"}),Object(r.jsx)("form",{children:Object(r.jsxs)("div",{className:v.a.formDiv,children:[Object(r.jsx)(i.a,{title:"Atualiza a al\xedquota de ICMS de todos os produtos que possuem CST 000",children:Object(r.jsxs)("span",{children:["Atualizar Al\xedquota ICMS"," ",Object(r.jsx)(h.b,{style:{marginLeft:"6px",color:"#b23237"}}),"  ",":"]})}),Object(r.jsx)(l.a,{label:"Aliq. ICMS",type:"number",variant:"outlined",disabled:!k,className:v.a.inputForm,value:a.ALIQICMS,onChange:function(e){return O({ALIQICMS:Number(e.target.value)})},InputProps:{endAdornment:k?Object(r.jsx)(d.b,{size:30,color:"#28aa0f",onClick:B,style:{cursor:"pointer"}}):Object(r.jsx)(d.g,{size:30,color:"#e9bb1f",onClick:function(){J&&A(!0)},style:{cursor:"pointer"}})}})]})})]}),Object(r.jsxs)("div",{className:v.a.paramSession,children:[Object(r.jsx)("h2",{children:"NFS-e / O.S."}),t&&Object(r.jsxs)("form",{className:v.a.formParm,children:[Object(r.jsxs)("div",{className:v.a.formDiv,children:[Object(r.jsx)("span",{children:"Alterar cliente da O.S.:"}),Object(r.jsx)(l.a,{type:"number",variant:"outlined",label:"N\xfamero da O.S.",value:q,disabled:!J||!R,InputLabelProps:{shrink:!0},className:v.a.numeroOs,onChange:function(e){return K(+e.target.value)}}),Object(r.jsx)(p.a,{disabled:!J||!R,ref:G}),R?Object(r.jsx)(d.b,{onClick:H,style:{marginLeft:"8px"},size:25,color:"#28aa0f"}):Object(r.jsx)(d.g,{onClick:function(){return z(!0)},size:25,style:{marginLeft:"8px"},color:"#e9bb1f"})]}),Object(r.jsxs)("div",{className:v.a.formDiv,children:[Object(r.jsx)("span",{children:"Lote RPS: "}),Object(r.jsx)(l.a,{label:"Lote RPS",type:"number",variant:"outlined",className:v.a.inputForm,disabled:!C,value:t.LOTERPS,onChange:function(e){return n(g(g({},t),{},{LOTERPS:Number(e.target.value)}))},InputProps:{endAdornment:C?Object(r.jsx)(d.b,{size:30,color:"#28aa0f",onClick:W}):Object(r.jsx)(d.g,{size:30,color:"#e9bb1f",onClick:function(){J&&I(!0)}})}})]}),Object(r.jsxs)("div",{className:v.a.formDiv,children:[Object(r.jsx)("span",{children:"Lote NFS-e: "}),Object(r.jsx)(l.a,{label:"Lote NFS-e",type:"number",variant:"outlined",className:v.a.inputForm,disabled:!L,value:t.LOTENFSE,onChange:function(e){return n(g(g({},t),{},{LOTENFSE:Number(e.target.value)}))},InputProps:{endAdornment:L?Object(r.jsx)(d.b,{size:30,color:"#28aa0f",onClick:W}):Object(r.jsx)(d.g,{size:30,color:"#e9bb1f",onClick:function(){J&&D(!0)}})}})]})]})]}),Object(r.jsx)(b.a,{})]}):Object(r.jsx)(f.a,{})})]})}}},[["wqa0",0,1,4,7,2,3,5,6,10]]]);