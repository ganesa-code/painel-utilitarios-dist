_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[30],{ILE7:function(e,a,s){"use strict";s.r(a),s.d(a,"default",(function(){return _}));var t,n=s("nKUr"),i=s("cpVT"),r=s("vJKn"),c=s.n(r),o=s("rg98"),l=s("R/WZ"),u=s("ADg1"),d=s("1AYd"),b=s("cVXz"),j=s("pdwK"),p=s("jjAL"),m=s("q1tI"),v=s("UN6+"),O=s("bFzY"),x=s("Dp36"),f=s("tRs7"),h=s("JtMt"),C=s.n(h),g=new f.a,k=Object(l.a)((function(e){return{formControl:{minWidth:300,maxWidth:300},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}}})),w={PaperProps:{style:{maxHeight:224,width:250}}};!function(e){e.SemAcesso="SEM_ACESSO",e.SomenteConsulta="SOMENTE_CONSULTA",e.AcessoTotal="ACESSO_TOTAL"}(t||(t={}));var S=Object.freeze({SemAcesso:{title:"Sem acesso",value:"SEM_ACESSO"},SomenteConsulta:{title:"Somente Consulta",value:"SOMENTE_CONSULTA"},AcessoTotal:{title:"Acesso Total",value:"ACESSO_TOTAL"}});function _(){var e,a,s,t,r,l,f,h,_,y,I,A,N,P=Object(m.useState)([]),E=P[0],M=P[1],T=Object(m.useState)(),R=T[0],z=T[1],D=Object(m.useState)(!1),L=D[0],U=D[1],q=k(),K=Object(O.c)().user;Object(m.useEffect)((function(){K&&U("ACESSO_TOTAL"===K.permissions.permissoes)}),[K]),Object(m.useEffect)((function(){x.a.get("/users/").then((function(e){M(e.data.users)}))}),[]);var G=function(){var e=Object(o.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/users/".concat(R._id));case 2:a=e.sent,z(a.data.user);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(o.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/users/");case 2:return a=e.sent,e.next=5,M(a.data.users);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(o.a)(c.a.mark((function e(a,s){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.patch("/users/update-permissions",{USUARIO:R.login,PERMISSAO:Object(i.a)({},a,s)});case 3:if("ok"!==e.sent.data.status){e.next=8;break}return e.next=7,G();case 7:g.notify("Permiss\xe3o atualizada","success");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),g.notify(e.t0.response.data.message,"error");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(a,s){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:C.a.wrapper,children:"SEM_ACESSO"!==(null===K||void 0===K?void 0:K.permissions.permissoes)?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{children:"Permiss\xf5es"}),Object(n.jsxs)(u.a,{className:q.formControl,children:[Object(n.jsx)(d.a,{id:"usuario-label",children:"Selecione o Usu\xe1rio"}),Object(n.jsx)(b.a,{labelId:"usuario-label",id:"usuario-select",value:R?R.login:"",displayEmpty:!0,input:Object(n.jsx)(j.a,{}),MenuProps:w,children:E.map((function(e){return Object(n.jsx)(p.a,{value:e.login,onClick:Object(o.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,H();case 2:z(e);case 3:case"end":return a.stop()}}),a)}))),children:e.login},e._id)}))})]}),R&&Object(n.jsx)("section",{className:C.a.sectionDiv,children:Object(n.jsxs)(u.a,{className:"".concat(q.formControl," ").concat(C.a.permissionsDiv),children:[Object(n.jsx)(d.a,{id:"consultar-produtos-label",children:"Consultar Produtos"}),Object(n.jsx)(b.a,{labelId:"consultar-produtos-label",id:"consultar-produtos-select",disabled:!L,value:null!==(e=R.permissions)&&void 0!==e&&e.consultarProdutos?R.permissions.consultarProdutos:"",input:Object(n.jsx)(j.a,{}),MenuProps:w,children:Object.keys(S).map((function(e){return Object(n.jsx)(p.a,{value:S[e].value,onClick:function(){J("consultarProdutos",S[e].value)},children:S[e].title},e)}))}),Object(n.jsxs)(u.a,{className:q.formControl,children:[Object(n.jsx)(d.a,{id:"parametros-gerais-label",children:"Par\xe2metros Gerais"}),Object(n.jsx)(b.a,{labelId:"parametros-gerais-label",id:"parametros-gerais-select",disabled:!L,value:null===(a=R.permissions)||void 0===a?void 0:a.parametrosGerais,input:Object(n.jsx)(j.a,{}),MenuProps:w,children:Object.keys(S).map((function(e){return Object(n.jsx)(p.a,{value:S[e].value,onClick:function(){J("parametrosGerais",S[e].value)},children:S[e].title},e)}))})]}),Object(n.jsxs)(u.a,{className:q.formControl,children:[Object(n.jsx)(d.a,{id:"contas-receber-label",children:"Contas a Receber"}),Object(n.jsx)(b.a,{labelId:"contas-receber-label",id:"contas-receber-select",disabled:!L,value:null===(s=R.permissions)||void 0===s?void 0:s.contasAReceber,input:Object(n.jsx)(j.a,{}),MenuProps:w,children:Object.keys(S).map((function(e){return Object(n.jsx)(p.a,{value:S[e].value,onClick:function(){J("contasAReceber",S[e].value)},children:S[e].title},e)}))})]}),Object(n.jsxs)(u.a,{className:q.formControl,children:[Object(n.jsx)(d.a,{id:"altera-adm-label",children:"Altera Adm. Conv\xeanio"}),Object(n.jsx)(b.a,{labelId:"altera-adm-label",id:"altera-adm-select",disabled:!L,value:null===(t=R.permissions)||void 0===t?void 0:t.alteraAdmConvenio,input:Object(n.jsx)(j.a,{}),MenuProps:w,children:Object.keys(S).map((function(e){return Object(n.jsx)(p.a,{value:S[e].value,onClick:function(){J("alteraAdmConvenio",S[e].value)},children:S[e].title},e)}))})]}),Object(n.jsxs)(u.a,{className:q.formControl,children:[" ",Object(n.jsx)(d.a,{id:"digitacao-inventario-label",children:"Digita\xe7\xe3o de Invent\xe1rio"}),Object(n.jsx)(b.a,{labelId:"digitacao-inventario-label",id:"digitacao-inventario-select",disabled:!L,value:null===(r=R.permissions)||void 0===r?void 0:r.digitacaoInventario,input:Object(n.jsx)(j.a,{}),MenuProps:w,children:Object.keys(S).map((function(e){return Object(n.jsx)(p.a,{value:S[e].value,onClick:function(){J("digitacaoInventario",S[e].value)},children:S[e].title},e)}))})]}),Object(n.jsxs)(u.a,{className:q.formControl,children:[" ",Object(n.jsx)(d.a,{id:"consulta-inventarios-label",children:"Consulta de Invent\xe1rios"}),Object(n.jsx)(b.a,{labelId:"consulta-inventarios-label",id:"consulta-inventarios-select",disabled:!L,value:null===(l=R.permissions)||void 0===l?void 0:l.consultarInventarios,input:Object(n.jsx)(j.a,{}),MenuProps:w,children:Object.keys(S).map((function(e){return Object(n.jsx)(p.a,{value:S[e].value,onClick:function(){J("consultarInventarios",S[e].value)},children:S[e].title},e)}))})]}),Object(n.jsxs)(u.a,{className:q.formControl,children:[" ",Object(n.jsx)(d.a,{id:"compras-requisitar-label",children:"Requisitar Compras"}),Object(n.jsx)(b.a,{labelId:"compras-requisitar-label",id:"compras-requisitar-select",disabled:!L,value:null===(f=R.permissions)||void 0===f?void 0:f.comprasRequisitar,input:Object(n.jsx)(j.a,{}),MenuProps:w,children:Object.keys(S).map((function(e){return Object(n.jsx)(p.a,{value:S[e].value,onClick:function(){J("comprasRequisitar",S[e].value)},children:S[e].title},e)}))})]}),Object(n.jsxs)(u.a,{className:q.formControl,children:[" ",Object(n.jsx)(d.a,{id:"compras-consultar-label",children:"Consultar Compras"}),Object(n.jsx)(b.a,{labelId:"compras-consultar-label",id:"compras-consultar-select",disabled:!L,value:null===(h=R.permissions)||void 0===h?void 0:h.comprasConsultar,input:Object(n.jsx)(j.a,{}),MenuProps:w,children:Object.keys(S).map((function(e){return Object(n.jsx)(p.a,{value:S[e].value,onClick:function(){J("comprasConsultar",S[e].value)},children:S[e].title},e)}))})]}),Object(n.jsxs)(u.a,{className:q.formControl,children:[" ",Object(n.jsx)(d.a,{id:"compras-painel-label",children:"Painel do Comprador"}),Object(n.jsx)(b.a,{labelId:"compras-painel-label",id:"compras-painel-select",disabled:!L,value:null===(_=R.permissions)||void 0===_?void 0:_.comprasPainelDoComprador,input:Object(n.jsx)(j.a,{}),MenuProps:w,children:Object.keys(S).map((function(e){return Object(n.jsx)(p.a,{value:S[e].value,onClick:function(){J("comprasPainelDoComprador",S[e].value)},children:S[e].title},e)}))})]}),Object(n.jsxs)(u.a,{className:q.formControl,children:[" ",Object(n.jsx)(d.a,{id:"demandar-reposicao-label",children:"Demandar Reposi\xe7\xe3o"}),Object(n.jsx)(b.a,{labelId:"demandar-reposicao-label",id:"demandar-reposicao-select",disabled:!L,value:null===(y=R.permissions)||void 0===y?void 0:y.demandarReposicao,input:Object(n.jsx)(j.a,{}),MenuProps:w,children:Object.keys(S).map((function(e){return Object(n.jsx)(p.a,{value:S[e].value,onClick:function(){J("demandarReposicao",S[e].value)},children:S[e].title},e)}))})]}),Object(n.jsxs)(u.a,{className:q.formControl,children:[" ",Object(n.jsx)(d.a,{id:"visualizar-reposicoes-label",children:"Visualizar Reposi\xe7\xf5es"}),Object(n.jsx)(b.a,{labelId:"visualizar-reposicoes-label",id:"visualizar-reposicoes-select",disabled:!L,value:null===(I=R.permissions)||void 0===I?void 0:I.visualizarReposicoes,input:Object(n.jsx)(j.a,{}),MenuProps:w,children:Object.keys(S).map((function(e){return Object(n.jsx)(p.a,{value:S[e].value,onClick:function(){J("visualizarReposicoes",S[e].value)},children:S[e].title},e)}))})]}),Object(n.jsxs)(u.a,{className:q.formControl,children:[" ",Object(n.jsx)(d.a,{id:"configuracoes-label",children:"Configura\xe7\xf5es"}),Object(n.jsx)(b.a,{labelId:"configuracoes-label",id:"configuracoes-select",disabled:!L,value:null===(A=R.permissions)||void 0===A?void 0:A.configuracoes,input:Object(n.jsx)(j.a,{}),MenuProps:w,children:Object.keys(S).map((function(e){return Object(n.jsx)(p.a,{value:S[e].value,onClick:function(){J("configuracoes",S[e].value)},children:S[e].title},e)}))})]}),Object(n.jsxs)(u.a,{className:q.formControl,children:[" ",Object(n.jsx)(d.a,{id:"permissoes-label",children:"Permiss\xf5es"}),Object(n.jsx)(b.a,{labelId:"permissoes-label",id:"permissoes-select",disabled:!L,value:null===(N=R.permissions)||void 0===N?void 0:N.permissoes,input:Object(n.jsx)(j.a,{}),MenuProps:w,children:Object.keys(S).map((function(e){return Object(n.jsx)(p.a,{value:S[e].value,onClick:function(){J("permissoes",S[e].value)},children:S[e].title},e)}))})]})]})})]}):Object(n.jsx)(v.a,{})})}},JtMt:function(e,a,s){e.exports={wrapper:"styles_wrapper__1RKej",sectionDiv:"styles_sectionDiv__2c-wA",permissionsDiv:"styles_permissionsDiv__17aEI"}},"UN6+":function(e,a,s){"use strict";s.d(a,"a",(function(){return c}));var t=s("nKUr"),n=s("33Fu"),i=s("YhpK"),r=s.n(i);function c(){return Object(t.jsxs)("div",{className:r.a.wrapper,children:[Object(t.jsx)(n.b,{size:50,color:"#b23237"}),Object(t.jsx)("h1",{children:"Acesso Bloqueado"})]})}},YhpK:function(e,a,s){e.exports={wrapper:"style_wrapper__22fyg"}},jjAL:function(e,a,s){"use strict";var t=s("Ff2n"),n=s("rePB"),i=s("wx14"),r=s("q1tI"),c=(s("17x9"),s("iuhU")),o=s("H2TA"),l=s("tVbE"),u=r.forwardRef((function(e,a){var s,n=e.classes,o=e.className,u=e.component,d=void 0===u?"li":u,b=e.disableGutters,j=void 0!==b&&b,p=e.ListItemClasses,m=e.role,v=void 0===m?"menuitem":m,O=e.selected,x=e.tabIndex,f=Object(t.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(s=void 0!==x?x:-1),r.createElement(l.a,Object(i.a)({button:!0,role:v,tabIndex:s,component:d,selected:O,disableGutters:j,classes:Object(i.a)({dense:n.dense},p),className:Object(c.a)(n.root,o,O&&n.selected,!j&&n.gutters),ref:a},f))}));a.a=Object(o.a)((function(e){return{root:Object(i.a)({},e.typography.body1,Object(n.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(i.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(u)},sMbX:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/permissoes",function(){return s("ILE7")}])}},[["sMbX",0,1,4,7,3,2,5,6]]]);