_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[23],{"0sQZ":function(e,a,t){e.exports={wrapper:"styles_wrapper__eV2IN",configForm:"styles_configForm__XLtU9",formInput:"styles_formInput__2hvK5",mailConfigDiv:"styles_mailConfigDiv__AX1jo",mailConfigInput:"styles_mailConfigInput__2Zns_",mailButtonDiv:"styles_mailButtonDiv__1bxYJ"}},GGeT:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/configuracoes",function(){return t("jf15")}])},KJax:function(e,a,t){"use strict";var n=t("wx14"),r=t("Ff2n"),i=t("q1tI"),o=(t("17x9"),t("iuhU")),s=t("H2TA"),c=i.forwardRef((function(e,a){var t=e.classes,s=e.className,c=e.row,l=void 0!==c&&c,u=Object(r.a)(e,["classes","className","row"]);return i.createElement("div",Object(n.a)({className:Object(o.a)(t.root,s,l&&t.row),ref:a},u))}));a.a=Object(s.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(c)},Sbtq:function(e,a,t){"use strict";t.d(a,"a",(function(){return f})),t.d(a,"b",(function(){return p}));var n=t("nKUr"),r=t("vJKn"),i=t.n(r),o=t("rg98"),s=t("q1tI"),c=t("tRs7"),l=(t("jDDT"),t("ddHN")),u=Object(s.createContext)({}),d=new c.a,f=function(e){var a,t=e.children,r=Object(s.useState)(),c=r[0],f=r[1],p=Object(s.useState)(),j=p[0],b=p[1],m=Object(l.b)().getApi;Object(s.useEffect)((function(){m.then((function(e){(a=e).get("/config/gerais").then((function(e){f(e.data.config)})),a.get("/config/filiais").then((function(e){b(e.data.filiaisParsed)}))}))}),[]);var g=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.then(function(){var e=Object(o.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n,f(t),e.next=4,a.post("/config/gerais",t);case 4:"ok"===e.sent.data.status&&d.notify("Configura\xe7\xf5es alteradas","success");case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(n.jsx)(u.Provider,{value:{config:c,filiais:j,changeConfig:g},children:t})},p=function(){return Object(s.useContext)(u)}},"UN6+":function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var n=t("nKUr"),r=t("33Fu"),i=t("YhpK"),o=t.n(i);function s(){return Object(n.jsxs)("div",{className:o.a.wrapper,children:[Object(n.jsx)(r.c,{size:50,color:"#b23237"}),Object(n.jsx)("h1",{children:"Acesso Bloqueado"})]})}},YhpK:function(e,a,t){e.exports={wrapper:"style_wrapper__22fyg"}},jf15:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return z}));var n=t("nKUr"),r=t("vJKn"),i=t.n(r),o=t("cpVT"),s=t("rg98"),c=t("q1tI"),l=t("FGyW"),u=t("p46w"),d=t.n(u),f=t("csfp"),p=t("33Fu"),j=t("bFzY"),b=(t("jDDT"),t("0sQZ")),m=t.n(b),g=t("tRs7"),h=t("R/WZ"),v=t("ADg1"),O=t("1AYd"),x=t("cVXz"),w=t("pdwK"),C=t("jjAL"),y=t("KJax"),_=t("ZGBi"),E=t("UhlP"),S=t("r9w1"),P=t("Z3vd"),N=t("Sbtq"),k=t("UN6+"),D=t("ddHN");function A(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function T(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?A(Object(t),!0).forEach((function(a){Object(o.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var I,F={PaperProps:{style:{maxHeight:224,width:250}}},q=new g.a,L=Object(h.a)((function(e){return{formControl:{margin:e.spacing(1),marginTop:"2rem",minWidth:300,maxWidth:300},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}}}));function z(){var e=Object(c.useState)(),a=e[0],t=e[1],r=Object(c.useState)(),o=r[0],u=(r[1],Object(j.c)()),b=u.user,g=u.filialPrincipal,h=u.changeFilial,A=Object(N.b)(),z=A.config,K=A.changeConfig,M=Object(c.useState)(),U=M[0],B=M[1],G=Object(c.useState)(),R=G[0],J=G[1],Z=L(),W=Object(D.b)().getApi;Object(c.useEffect)((function(){W.then((function(e){(I=e).get("/config/filiais").then((function(e){e.data.filiaisParsed&&t(e.data.filiaisParsed)})),I.get("/config/email").then((function(e){e.data.config&&J(e.data.config)}))}))}),[]),Object(c.useEffect)((function(){B(z)}),[z]);var X=function(){var e=Object(s.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(R.port<=0||""===R.host||""===R.auth.user||""===R.auth.pass)){e.next=3;break}return q.notify("Preencha todos os campos para atualizar os dados de e-mail","warning"),e.abrupt("return");case 3:return e.prev=3,e.next=6,I.post("/config/email",T(T({},R),{},{port:+R.port}));case 6:"ok"===e.sent.data.status&&q.notify("Dados de e-mail atualizados com sucesso","success"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),a=e.t0.response,q.notify("Altera\xe7\xf5es n\xe3o salvas.\n        Motivo: ".concat(a.data.message.errno||a.data.message.response),"error");case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(s.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.get("/config/email/test");case 3:"ok"===e.sent.data.status&&q.notify("Email enviado com sucesso","success"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=e.t0.response,q.notify("Erro: ".concat(a.data.message.errno||a.data.message.response),"error");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:m.a.wrapper,children:[Object(n.jsx)(l.a,{}),"SEM_ACESSO"!==(null===b||void 0===b?void 0:b.permissions.configuracoes)?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{children:"Sele\xe7\xe3o de Filiais"}),Object(n.jsx)("form",{className:m.a.configForm,children:Object(n.jsxs)(v.a,{className:Z.formControl,children:[Object(n.jsx)(O.a,{id:"filiais",children:"Filial Principal"}),Object(n.jsx)(x.a,{labelId:"filiais",defaultValue:g.CODEMPRESA,value:o,disabled:"ACESSO_TOTAL"!==(null===b||void 0===b?void 0:b.permissions.configuracoes),input:Object(n.jsx)(w.a,{}),MenuProps:F,children:null===a||void 0===a?void 0:a.map((function(e){return Object(n.jsx)(C.a,{value:e.CODEMPRESA,onClick:function(){return function(e){d.a.set("filial",e),h(e)}(e)},children:e.NOMERED},e.CODEMPRESA)}))})]})}),"ADMIN"===(null===b||void 0===b?void 0:b.USUARIO)&&U&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h2",{style:{marginTop:"2rem"},children:"Configura\xe7\xf5es Gerais"}),Object(n.jsxs)(v.a,{className:"".concat(Z.formControl," ").concat(m.a.configsGerais),children:[Object(n.jsxs)("div",{className:m.a.formInput,children:[Object(n.jsx)(f.a,{title:"Ao incluir uma digita\xe7\xe3o de invent\xe1rio atrav\xe9s do painel, uma nova digita\xe7\xe3o ser\xe1\r inclu\xedda para todas as demais filiais, zerando seus respectivos estoques.",children:Object(n.jsxs)("span",{children:["Zerar digita\xe7\xe3o das outras filiais"," ",Object(n.jsx)(p.b,{style:{marginLeft:"6px",color:"#b23237"}}),":"," "]})}),Object(n.jsx)(y.a,{children:Object(n.jsx)(_.a,{label:"",control:Object(n.jsx)(E.a,{size:"medium",disabled:"ACESSO_TOTAL"!==(null===b||void 0===b?void 0:b.permissions.configuracoes),checked:U.generalConfig.zeraEstoqueFilialDigitacao,color:"primary"}),onChange:function(){return B(T(T({},U),{},{generalConfig:T(T({},U.generalConfig),{},{zeraEstoqueFilialDigitacao:!U.generalConfig.zeraEstoqueFilialDigitacao})}))}})})]}),Object(n.jsxs)("div",{className:m.a.formInput,children:[Object(n.jsx)(f.a,{title:"Na rotina de demandar reposi\xe7\xe3o, o painel somar\xe1 o saldo de estoque de todas as filiais\r caso o presente par\xe2metro esteja ativo.",children:Object(n.jsxs)("span",{children:["Soma saldo de estoque das filiais"," ",Object(n.jsx)(p.b,{style:{marginLeft:"6px",color:"#b23237"}}),":"," "]})}),Object(n.jsx)(y.a,{children:Object(n.jsx)(_.a,{label:"",control:Object(n.jsx)(E.a,{size:"medium",disabled:"ACESSO_TOTAL"!==(null===b||void 0===b?void 0:b.permissions.configuracoes),checked:U.generalConfig.somaSaldoEstoque,color:"primary"}),onChange:function(){return B(T(T({},U),{},{generalConfig:T(T({},U.generalConfig),{},{somaSaldoEstoque:!U.generalConfig.somaSaldoEstoque})}))}})})]}),Object(n.jsxs)("div",{className:m.a.formInput,children:[Object(n.jsx)("span",{children:"Caminho do banco de dados: "}),Object(n.jsx)(S.a,{label:"Caminho",variant:"outlined",disabled:"admin"!==(null===b||void 0===b?void 0:b.role),value:U.database,onChange:function(e){return B(T(T({},U),{},{database:e.target.value}))}})]})]}),Object(n.jsx)(P.a,{style:{backgroundColor:"#B23237",color:"#f4f4f4",width:"fit-content",margin:"3rem auto 0 auto"},className:m.a.formButton,variant:"contained",disabled:"ACESSO_TOTAL"!==(null===b||void 0===b?void 0:b.permissions.configuracoes),color:"primary",onClick:function(){K(U)},children:"Confirmar altera\xe7\xf5es"}),Object(n.jsxs)("div",{className:m.a.mailConfigDiv,children:[Object(n.jsx)("h2",{children:"Configura\xe7\xf5es de E-mail"}),Object(n.jsxs)("div",{className:m.a.mailConfigInput,children:[Object(n.jsx)(S.a,{label:"Servidor SMTP",variant:"outlined",InputLabelProps:{shrink:!0},value:null===R||void 0===R?void 0:R.host,onChange:function(e){return J(T(T({},R),{},{host:e.target.value}))}}),Object(n.jsx)(S.a,{label:"Porta",type:"number",variant:"outlined",InputLabelProps:{shrink:!0},InputProps:{inputProps:{min:0}},value:null===R||void 0===R?void 0:R.port,onChange:function(e){return J(T(T({},R),{},{port:e.target.value}))}}),Object(n.jsx)(S.a,{label:"E-mail",type:"email",variant:"outlined",InputLabelProps:{shrink:!0},value:null===R||void 0===R?void 0:R.auth.user,onChange:function(e){return J(T(T({},R),{},{auth:T(T({},R.auth),{},{user:e.target.value})}))}}),Object(n.jsx)(S.a,{label:"Senha",type:"password",variant:"outlined",InputLabelProps:{shrink:!0},value:null===R||void 0===R?void 0:R.auth.pass,onChange:function(e){return J(T(T({},R),{},{auth:T(T({},R.auth),{},{pass:e.target.value})}))}}),Object(n.jsxs)("div",{className:m.a.mailButtonDiv,children:[Object(n.jsx)(P.a,{variant:"contained",style:{backgroundColor:"#B23237",width:"fit-content",color:"#f4f4f4",margin:"1rem auto 0 auto"},color:"primary",onClick:Y,children:"Testar E-mail"}),Object(n.jsx)(P.a,{variant:"contained",style:{backgroundColor:"#B23237",width:"fit-content",color:"#f4f4f4",margin:"1rem auto 0 auto"},color:"primary",onClick:X,children:"Salvar altera\xe7\xf5es de E-mail"})]})]})]})]})]}):Object(n.jsx)(k.a,{})]})}}},[["GGeT",0,1,5,8,3,2,4,6,7,9,10]]]);