_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[29],{DbXy:function(e,t,n){e.exports={invisible:"styles_invisible__2eb-b",visible:"styles_visible__2b1oV",totais:"styles_totais__1vmZn",produtoInput:"styles_produtoInput__27fS-",clienteInput:"styles_clienteInput__2WKkT",searchResult:"styles_searchResult__26Gln"}},EDS1:function(e,t,n){e.exports={wrapper:"styles_wrapper__3td6h",formParm:"styles_formParm__3ZCy6",formDiv:"styles_formDiv__2zR71",paramSession:"styles_paramSession__dRmgE",inputForm:"styles_inputForm__2iPK9",numeroOs:"styles_numeroOs__1td34",inputWide:"styles_inputWide__3appR",resultsDiv:"styles_resultsDiv__1t8Xo",visible:"styles_visible__1g-fD",invisible:"styles_invisible__2qCfu",fornecedores:"styles_fornecedores__PUnE9",searchResults:"styles_searchResults__2XL8m"}},Ry4D:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("nKUr"),a=n("r9w1"),s=n("q1tI"),c=n.n(s),o=n("Dp36"),i=n("DbXy"),u=n.n(i),l=c.a.forwardRef((function(e,t){var n=e.disabled,c=e.admConv,i=void 0!==c&&c,l=e.handleIsSelected,b=Object(s.useState)(),d=b[0],p=b[1],f=Object(s.useState)(),j=f[0],O=f[1],m=Object(s.useState)(),v=m[0],_=m[1],h=Object(s.useState)(!1),y=h[0],S=h[1],x=Object(s.useRef)(null);Object(s.useImperativeHandle)(t,(function(){return{getMyState:function(){return v}}}),[v]),Object(s.useEffect)((function(){window.addEventListener("mousedown",N)}),[]);var N=function(e){var t;x&&"NOMECLIENTE"===e.target.name?S(!0):!x||null!==(t=x.current)&&void 0!==t&&t.contains(e.target)||S(!1)};return Object(r.jsxs)("div",{className:u.a.clienteInput,children:[Object(r.jsx)(a.a,{label:i?"Administradora de Cart\xe3o":"Cliente",name:"NOMECLIENTE",autoComplete:"off",variant:"outlined",disabled:n||!1,value:d,color:"primary",onChange:function(e){return function(e){if(S(!0),p(e.target.value),e.target.value.length>1){var t=i?"/adm-conv":"/clientes";o.a.post(t,{search:e.target.value}).then((function(e){O(i?e.data.administradoras:e.data.parsedClientes)}))}else S(!1),O([])}(e)}}),j&&Object(r.jsx)("div",{ref:x,className:"".concat(u.a.searchResult," ").concat(y?u.a.visible:u.a.invisible),children:j.map((function(e){return Object(r.jsx)("span",{onClick:function(){p(e.CODCLIENTE+" - "+e.NOME),_(e),S(!1),i&&l&&l()},children:e.CODCLIENTE+" - "+e.NOME},e.CODCLIENTE)}))})]})}))},"UN6+":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("nKUr"),a=n("33Fu"),s=n("YhpK"),c=n.n(s);function o(){return Object(r.jsxs)("div",{className:c.a.wrapper,children:[Object(r.jsx)(a.b,{size:50,color:"#b23237"}),Object(r.jsx)("h1",{children:"Acesso Bloqueado"})]})}},YhpK:function(e,t,n){e.exports={wrapper:"style_wrapper__22fyg"}},wqa0:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/parametros-gerais",function(){return n("wvbT")}])},wvbT:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var r=n("nKUr"),a=n("cpVT"),s=n("vJKn"),c=n.n(s),o=n("rg98"),i=n("r9w1"),u=n("q1tI"),l=n("Tgqd"),b=n("FGyW"),d=(n("jDDT"),n("Ry4D")),p=n("bFzY"),f=n("Dp36"),j=n("UN6+"),O=n("tRs7"),m=n("EDS1"),v=n.n(m);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=new O.a;function S(){var e=Object(u.useState)(),t=e[0],n=e[1],a=Object(u.useState)({ALIQICMS:0}),s=a[0],O=a[1],m=Object(u.useState)(!1),_=m[0],S=m[1],x=Object(u.useState)(!1),N=x[0],E=x[1],g=Object(u.useState)(!1),w=g[0],C=g[1],D=Object(u.useState)(0),I=D[0],P=D[1],L=Object(p.c)().user,T=Object(u.useRef)(null),k="SOMENTE_CONSULTA"!==(null===L||void 0===L?void 0:L.permissions.parametrosGerais);Object(u.useEffect)((function(){f.a.get("/parametros/nfse").then((function(e){n(e.data.paramsNFSe[0])}))}),[]);var R=function(){var e=Object(o.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={loteNFSE:t.LOTENFSE,loteRPS:t.LOTERPS},e.next=3,f.a.post("/parametros/nfse",n);case 3:"ok"===e.sent.data.status?y.notify("Altera\xe7\xe3o enviada ao sistema","success"):y.notify("Algo deu errado","error"),S(!1),E(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("/parametros/atualiza-aliq",s);case 2:"ok"===e.sent.data.status?y.notify("Al\xedquota alterada com sucesso","success"):y.notify("Algo deu errado","error"),C(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(o.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I&&!(I<=0)&&null!==(t=T.current)&&void 0!==t&&t.getMyState()){e.next=3;break}return y.notify("Preencha corretamente o n\xfamero da O.S. e o novo cliente","warning"),e.abrupt("return");case 3:return e.prev=3,e.next=6,f.a.post("/parametros/atualiza-cliente-os",{os:I,cliente:null===(n=T.current)||void 0===n?void 0:n.getMyState().CODCLIENTE});case 6:"ok"===e.sent.data.status?y.notify("Cliente alterado com sucesso","success"):y.notify("Algo deu errado","error"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),y.notify(e.t0.response.data.message,"error");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:v.a.wrapper,children:"SEM_ACESSO"!==(null===L||void 0===L?void 0:L.permissions.parametrosGerais)?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"Par\xe2metros Gerais"}),Object(r.jsxs)("div",{className:v.a.paramSession,children:[Object(r.jsx)("h2",{children:"Fiscal"}),Object(r.jsx)("form",{children:Object(r.jsxs)("div",{className:v.a.formDiv,children:[Object(r.jsx)("span",{children:"Atualizar Al\xedquota ICMS: "}),Object(r.jsx)(i.a,{label:"Aliq. ICMS",type:"number",variant:"outlined",disabled:!w,className:v.a.inputForm,value:s.ALIQICMS,onChange:function(e){return O({ALIQICMS:Number(e.target.value)})},InputProps:{endAdornment:w?Object(r.jsx)(l.b,{size:30,color:"#28aa0f",onClick:A}):Object(r.jsx)(l.g,{size:30,color:"#e9bb1f",onClick:function(){k&&C(!0)}})}})]})})]}),Object(r.jsxs)("div",{className:v.a.paramSession,children:[Object(r.jsx)("h2",{children:"NFS-e / O.S."}),t&&Object(r.jsxs)("form",{className:v.a.formParm,children:[Object(r.jsxs)("div",{className:v.a.formDiv,children:[Object(r.jsx)("span",{children:"Alterar cliente da O.S.:"}),Object(r.jsx)(i.a,{type:"number",variant:"outlined",label:"N\xfamero da O.S.",value:I,disabled:!k,InputLabelProps:{shrink:!0},className:v.a.numeroOs,onChange:function(e){return P(+e.target.value)}}),Object(r.jsx)(d.a,{disabled:!k,ref:T}),Object(r.jsx)(l.b,{onClick:F,style:{marginLeft:"8px"},size:30,color:"#28aa0f"})]}),Object(r.jsxs)("div",{className:v.a.formDiv,children:[Object(r.jsx)("span",{children:"Lote RPS: "}),Object(r.jsx)(i.a,{label:"Lote RPS",type:"number",variant:"outlined",className:v.a.inputForm,disabled:!_,value:t.LOTERPS,onChange:function(e){return n(h(h({},t),{},{LOTERPS:Number(e.target.value)}))},InputProps:{endAdornment:_?Object(r.jsx)(l.b,{size:30,color:"#28aa0f",onClick:R}):Object(r.jsx)(l.g,{size:30,color:"#e9bb1f",onClick:function(){k&&S(!0)}})}})]}),Object(r.jsxs)("div",{className:v.a.formDiv,children:[Object(r.jsx)("span",{children:"Lote NFS-e: "}),Object(r.jsx)(i.a,{label:"Lote NFS-e",type:"number",variant:"outlined",className:v.a.inputForm,disabled:!N,value:t.LOTENFSE,onChange:function(e){return n(h(h({},t),{},{LOTENFSE:Number(e.target.value)}))},InputProps:{endAdornment:N?Object(r.jsx)(l.b,{size:30,color:"#28aa0f",onClick:R}):Object(r.jsx)(l.g,{size:30,color:"#e9bb1f",onClick:function(){k&&E(!0)}})}})]})]})]}),Object(r.jsx)(b.a,{})]}):Object(r.jsx)(j.a,{})})}}},[["wqa0",0,1,4,7,3,2,5,6]]]);